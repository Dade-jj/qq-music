{"version":3,"sources":["webpack:///webpack/bootstrap a291b8a1acbea5be1998","webpack:///./scripts/constants.js","webpack:///./scripts/lazyload.js","webpack:///./scripts/helper.js","webpack:///./scripts/app.js","webpack:///./scripts/tab.js","webpack:///./scripts/recommend.js","webpack:///./scripts/slider.js","webpack:///./scripts/music_player.js","webpack:///./scripts/progress_bar.js","webpack:///./scripts/lyrics_player.js","webpack:///./scripts/topList.js","webpack:///./scripts/search.js"],"names":["RECOMMEND_URL","TOPLIST_URL","SEARCH_URL","LYRICS_URL","lazyload","images","imgs","slice","call","document","querySelectorAll","onscroll","throttle","length","window","removeEventListener","filter","img","classList","contains","forEach","inViewport","loadImage","addEventListener","dispatchEvent","Event","func","wait","pre","timer","fn","cur","Date","now","diff","clearTimeout","setTimeout","getBoundingClientRect","top","left","right","bottom","vpWidth","documentElement","clientWidth","vpHeight","clientHeight","image","Image","src","dataset","onload","remove","lyricsUrl","songUrl","albumCoverUrl","searchUrl","songid","id","keyword","page","recommend","Recommend","querySelector","launch","topList","TopList","search","Search","musicPlayer","MusicPlayer","show","onHashChange","hash","location","test","matches","indexOf","match","options","reduce","res","arr","split","decodeURIComponent","play","hide","event","target","role","parentElement","children","tab","add","content","view","child","style","display","el","$el","fetch","then","json","render","renderSlider","data","slider","renderRadios","radioList","renderPlaylists","songList","Slider","sliders","map","link","linkUrl","picUrl","replace","radios","innerHTML","radio","Ftitle","join","playlists","list","songListDesc","interval","index","start","$wrap","firstElementChild","width","slide","setInterval","next","bind","transform","x","$audio","createAudio","lyrics","LyricsPlayer","progress","ProgressBar","fetching","createElement","Math","floor","random","crossOrigin","controls","body","appendChild","restart","onPlay","onPause","pause","innerText","songname","artist","reset","duration","url","albummid","backgroundImage","className","lyric","text","catch","elapsed","$progress","$elapsed","$duration","formatTime","clearInterval","intervalId","update","seconds","min","sec","audio","$lines","html","line","round","currentTime","i","getSeconds","y","LINE_HEIGHT","$active","formatText","p1","p2","div","prototype","item","topTitle","songlist","songs","song","singername","$input","onKeyUp","$songs","$loading","nomore","perpage","onScroll","pageYOffset","scrollHeight","value","trim","keyCode","showLoading","curpage","message","push","append","singer","s","name","insertAdjacentHTML"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DO,IAAMA,wCAAgB,6BAAtB;AACA,IAAMC,oCAAc,iCAApB;AACA,IAAMC,kCAAa,oCAAnB;AACA,IAAMC,kCAAa,oCAAnB,C;;;;;;;;;;;;QCHSC,Q,GAAAA,Q;AAAT,SAASA,QAAT,CAAkBC,MAAlB,EAA0B;AAC7B,QAAIC,OAAO,GAAGC,KAAH,CAASC,IAAT,CAAcH,UAAUI,SAASC,gBAAT,CAA0B,WAA1B,CAAxB,CAAX,CAD6B,CAC8C;AAC3E,QAAIC,WAAWC,SAAS,YAAY;AAChC,YAAIN,KAAKO,MAAL,KAAgB,CAApB,EAAuB;AACnB,mBAAOC,OAAOC,mBAAP,CAA2B,QAA3B,EAAqCJ,QAArC,CAAP;AACH;AACDL,eAAOA,KAAKU,MAAL,CAAY;AAAA,mBAAOC,IAAIC,SAAJ,CAAcC,QAAd,CAAuB,UAAvB,CAAP;AAAA,SAAZ,CAAP;AACAb,aAAKc,OAAL,CAAa,eAAO;AAChB,gBAAIC,WAAWJ,GAAX,CAAJ,EAAqB;AACjBK,0BAAUL,GAAV;AACH;AACJ,SAJD;AAKH,KAVc,EAUb,GAVa,CAAf;;AAYAH,WAAOS,gBAAP,CAAwB,QAAxB,EAAkCZ,QAAlC;AACAG,WAAOU,aAAP,CAAqB,IAAIC,KAAJ,CAAU,QAAV,CAArB;;AAEA,aAASb,QAAT,CAAkBc,IAAlB,EAAuBC,IAAvB,EAA6B;AACzB,YAAIC,YAAJ;AAAA,YAAUC,cAAV;AACA,eAAO,SAASC,EAAT,GAAc;AACjB,gBAAIC,MAAMC,KAAKC,GAAL,EAAV;AACA,gBAAIC,OAAOH,MAAMH,GAAjB;AACA,gBAAG,CAACA,GAAD,IAAQM,QAAQP,IAAnB,EAAyB;AACrBD;AACAE,sBAAMG,GAAN;AACH,aAHD,MAGM,IAAGG,OAAOP,IAAV,EAAe;AACjBQ,6BAAaN,KAAb;AACAA,wBAAQO,WAAW,YAAM;AACrBN;AACH,iBAFO,EAELH,OAAOO,IAFF,CAAR;AAGH;AACJ,SAZD;AAaH;;AAED,aAASb,UAAT,CAAoBJ,GAApB,EAAyB;AAAA,oCACcA,IAAIoB,qBAAJ,EADd;AAAA,YACfC,GADe,yBACfA,GADe;AAAA,YACVC,IADU,yBACVA,IADU;AAAA,YACJC,KADI,yBACJA,KADI;AAAA,YACGC,MADH,yBACGA,MADH;;AAErB,YAAIC,UAAUjC,SAASkC,eAAT,CAAyBC,WAAvC;AACA,YAAIC,WAAWpC,SAASkC,eAAT,CAAyBG,YAAxC;AACA,eACI,CAACR,MAAM,CAAN,IAAWA,MAAMO,QAAjB,IAA6BJ,SAAS,CAAT,IAAcA,SAASI,QAArD,MACCN,OAAO,CAAP,IAAYA,OAAOG,OAAnB,IAA8BF,QAAQ,CAAR,IAAaA,QAAQE,OADpD,CADJ;AAIH;;AAED,aAASpB,SAAT,CAAmBL,GAAnB,EAAwB;AACpB,YAAI8B,QAAQ,IAAIC,KAAJ,EAAZ;AACAD,cAAME,GAAN,GAAYhC,IAAIiC,OAAJ,CAAYD,GAAxB;AACAF,cAAMI,MAAN,GAAe,YAAY;AACvBlC,gBAAIgC,GAAJ,GAAUF,MAAME,GAAhB;AACAhC,gBAAIC,SAAJ,CAAckC,MAAd,CAAqB,UAArB;AACH,SAHD;AAIH;AAEJ,C;;;;;;;;;;;;QCnDeC,S,GAAAA,S;QAIAC,O,GAAAA,O;QAIAC,a,GAAAA,a;QAIAC,S,GAAAA,S;;AAdhB;;AAEO,SAASH,SAAT,CAAmBI,MAAnB,EAA2B;AAC9B,WAAUtD,qBAAV,YAA2BsD,MAA3B;AACH;;AAEM,SAASH,OAAT,CAAiBI,EAAjB,EAAqB;AACxB,gDAA0CA,EAA1C;AACH;;AAEM,SAASH,aAAT,CAAuBG,EAAvB,EAA2B;AAC9B,mEAA6DA,EAA7D;AACH;;AAEM,SAASF,SAAT,CAAmBG,OAAnB,EAAsC;AAAA,QAAVC,IAAU,uEAAH,CAAG;;AACzC,WAAU1D,qBAAV,iBAAgCyD,OAAhC,cAAgDC,IAAhD;AACH,C;;;;;;;;;AChBD;;AACA;;AACA;;AACA;;AACA;;AAEI,IAAIC,YAAY,IAAIC,oBAAJ,CAAcrD,SAASsD,aAAT,CAAuB,WAAvB,CAAd,EAAmDC,MAAnD,EAAhB;AACA,IAAIC,UAAU,IAAIC,gBAAJ,CAAYzD,SAASsD,aAAT,CAAuB,YAAvB,CAAZ,EAAkDC,MAAlD,EAAd;AACA,IAAIG,SAAS,IAAIC,cAAJ,CAAW3D,SAASsD,aAAT,CAAuB,cAAvB,CAAX,CAAb;AACA,IAAIM,cAAc,IAAIC,yBAAJ,CAAgB7D,SAASsD,aAAT,CAAuB,SAAvB,CAAhB,CAAlB;AACAtD,SAASsD,aAAT,CAAuB,eAAvB,EAAwCxC,gBAAxC,CAAyD,OAAzD,EAAkE,YAAM;AACpE8C,gBAAYE,IAAZ;AACH,CAFD;;AAIAC;AACAjD,iBAAiB,YAAjB,EAA+BiD,YAA/B;;AAEA,SAASA,YAAT,GAAwB;AACpB,QAAIC,OAAOC,SAASD,IAApB;AACA,QAAI,eAAeE,IAAf,CAAoBF,IAApB,CAAJ,EAA+B;AAC3B,YAAIG,UAAUH,KAAKlE,KAAL,CAAWkE,KAAKI,OAAL,CAAa,GAAb,IAAoB,CAA/B,EAAkCC,KAAlC,CAAwC,gBAAxC,CAAd;AACA,YAAIC,UAAUH,WAAWA,QAAQI,MAAR,CAAe,UAACC,GAAD,EAAMlD,GAAN,EAAc;AAClD,gBAAImD,MAAMnD,IAAIoD,KAAJ,CAAU,GAAV,CAAV;AACAF,gBAAIC,IAAI,CAAJ,CAAJ,IAAcE,mBAAmBF,IAAI,CAAJ,CAAnB,CAAd;AACA,mBAAOD,GAAP;AACH,SAJwB,EAItB,EAJsB,CAAzB;;AAMAZ,oBAAYgB,IAAZ,CAAiBN,OAAjB;AACH,KATD,MASO;AACHV,oBAAYiB,IAAZ;AACH;AACJ,C;;;;;;;;;AC/BL7E,SAASc,gBAAT,CAA0B,OAA1B,EAAkC,UAASgE,KAAT,EAAe;AAC7C,QAAIC,SAASD,MAAMC,MAAnB;;AAEA,QAAGA,OAAOtC,OAAP,CAAeuC,IAAf,KAAwB,KAA3B,EAAkC;AAC9B;AACH;;AAED,OAAGrE,OAAH,CAAWZ,IAAX,CAAgBgF,OAAOE,aAAP,CAAqBC,QAArC,EAA+C,eAAO;AAClDC,YAAI1E,SAAJ,CAAckC,MAAd,CAAqB,QAArB;AACH,KAFD;;AAIAoC,WAAOtE,SAAP,CAAiB2E,GAAjB,CAAqB,QAArB;;AAEA,QAAIC,UAAUrF,SAASsD,aAAT,CAAuByB,OAAOtC,OAAP,CAAe6C,IAAtC,CAAd;;AAEA,QAAGD,OAAH,EAAY;AACR,WAAG1E,OAAH,CAAWZ,IAAX,CAAgBsF,QAAQJ,aAAR,CAAsBC,QAAtC,EAAgD,iBAAS;AACrDK,kBAAMC,KAAN,CAAYC,OAAZ,GAAsB,MAAtB;AACH,SAFD;AAGAJ,gBAAQG,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AACH;AACDpF,WAAOU,aAAP,CAAqB,IAAIC,KAAJ,CAAU,QAAV,CAArB;AACH,CAtBD,EAsBE,KAtBF,E;;;;;;;;;;;;;;;;ACAA;;AACA;;AACA;;;;IAEaqC,S,WAAAA,S;AACT,uBAAYqC,EAAZ,EAAgB;AAAA;;AACZ,aAAKC,GAAL,GAAWD,EAAX;AACH;;;;iCAEQ;AAAA;;AACLE,kBAAMrG,wBAAN,EACCsG,IADD,CACM;AAAA,uBAAOrB,IAAIsB,IAAJ,EAAP;AAAA,aADN,EAECD,IAFD,CAEM;AAAA,uBAAQ,MAAKE,MAAL,CAAYD,IAAZ,CAAR;AAAA,aAFN;AAGA,mBAAO,IAAP;AACH;;;+BAEMA,I,EAAM;AACT,iBAAKE,YAAL,CAAkBF,KAAKG,IAAL,CAAUC,MAA5B;AACA,iBAAKC,YAAL,CAAkBL,KAAKG,IAAL,CAAUG,SAA5B;AACA,iBAAKC,eAAL,CAAqBP,KAAKG,IAAL,CAAUK,QAA/B;AACA;AACH;;;qCAEYJ,M,EAAQ;AACjB,gBAAIK,cAAJ,CAAW;AACPb,oBAAI1F,SAASsD,aAAT,CAAuB,SAAvB,CADG;AAEPkD,yBAASN,OAAOO,GAAP,CAAW;AAAA,2BAAW,EAAEC,MAAMR,OAAOS,OAAf,EAAwBrE,OAAO4D,OAAOU,MAAP,CAAcC,OAAd,CAAsB,SAAtB,EAAgC,UAAhC,CAA/B,EAAX;AAAA,iBAAX;AAFF,aAAX;AAIH;;;qCAEYC,M,EAAQ;AACjB9G,qBAASsD,aAAT,CAAuB,eAAvB,EAAwCyD,SAAxC,GAAoDD,OAAOL,GAAP,CAAW;AAAA,mJAGjBO,MAAMJ,MAHW,sIAM7BI,MAAMC,MANuB;AAAA,aAAX,EAOvCC,IAPuC,CAOlC,EAPkC,CAApD;AAQH;;;wCAEeC,S,EAAW;AACvBnH,qBAASsD,aAAT,CAAuB,kBAAvB,EAA2CyD,SAA3C,GAAuDI,UAAUV,GAAV,CAAc;AAAA,mJAGvBW,KAAKR,MAHkB,sIAMnCQ,KAAKC,YAN8B;AAAA,aAAd,EAO1CH,IAP0C,CAOrC,EAPqC,CAAvD;AAQH;;;;;;;;;;;;;;;;;;;;;IClDQX,M,WAAAA,M;AACT,sBAA2B;AAAA,YAAdjC,OAAc,uEAAJ,EAAI;;AAAA;;AACvB,aAAKqB,GAAL,GAAWrB,QAAQoB,EAAnB;AACA,aAAKc,OAAL,GAAelC,QAAQkC,OAAvB;AACA,aAAKc,QAAL,GAAgBhD,QAAQgD,QAAR,IAAoB,IAApC;AACA,aAAKC,KAAL,GAAa,CAAb;AACA,aAAKxB,MAAL;AACA,aAAKyB,KAAL;AACH;;;;iCAEQ;AACL,iBAAK7B,GAAL,CAASoB,SAAT;AACA,iBAAKU,KAAL,GAAa,KAAK9B,GAAL,CAAS+B,iBAAtB;AACA,iBAAKD,KAAL,CAAWjC,KAAX,CAAiBmC,KAAjB,GAA4B,KAAKnB,OAAL,CAAapG,MAAb,GAAsB,GAAlD;AACA,iBAAKqH,KAAL,CAAWV,SAAX,GAAuB,KAAKP,OAAL,CAAaC,GAAb,CAAiB;AAAA,mFAErBmB,MAAMlB,IAFe,0CAGhBkB,MAAMtF,KAHU;AAAA,aAAjB,EAOrB4E,IAPqB,CAOhB,EAPgB,CAAvB;AAQH;;;gCAEO;AACJW,wBAAY,KAAKC,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ,EAAiC,KAAKT,QAAtC;AACH;;;+BAEM;AACH,iBAAKC,KAAL,IAAc,CAAd;AACA,gBAAI,KAAKA,KAAL,KAAe,KAAKf,OAAL,CAAapG,MAAhC,EAAwC;AACpC,qBAAKqH,KAAL,CAAWjC,KAAX,CAAiBwC,SAAjB;AACA,qBAAKT,KAAL,GAAa,CAAb;AACA;AACH;AACD,gBAAIU,UAAQ,KAAKV,KAAL,GAAa,GAAb,GAAmB,KAAKf,OAAL,CAAapG,MAAxC,MAAJ;AACA,iBAAKqH,KAAL,CAAWjC,KAAX,CAAiBwC,SAAjB,mBAA2CC,CAA3C;AACH;;;;;;;;;;;;;;;;;;;;ACrCL;;AACA;;AACA;;;;IAEapE,W,WAAAA,W;AACT,yBAAY6B,EAAZ,EAAgB;AAAA;;AACZ,aAAKC,GAAL,GAAWD,EAAX;AACA,aAAKC,GAAL,CAAS7E,gBAAT,CAA0B,OAA1B,EAAmC,IAAnC;AACA,aAAKoH,MAAL,GAAc,KAAKC,WAAL,EAAd;AACA,aAAKC,MAAL,GAAc,IAAIC,2BAAJ,CAAiB,KAAK1C,GAAL,CAASrC,aAAT,CAAuB,gBAAvB,CAAjB,EAA0D,KAAK4E,MAA/D,CAAd;AACA,aAAKI,QAAL,GAAgB,IAAIC,yBAAJ,CAAgB,KAAK5C,GAAL,CAASrC,aAAT,CAAuB,WAAvB,CAAhB,CAAhB;AACA,aAAKkF,QAAL,GAAgB,KAAhB;AACA,aAAK3D,IAAL;AACH;;;;sCAEa;AAAA;;AACV,iBAAKqD,MAAL,GAAclI,SAASyI,aAAT,CAAuB,OAAvB,CAAd;AACA,iBAAKP,MAAL,CAAY1C,KAAZ,CAAkBC,OAAlB,GAA4B,MAA5B;AACA,iBAAKyC,MAAL,CAAYjF,EAAZ,eAA2ByF,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,GAA3B,CAA3B,SAA8D,CAAC,IAAIrH,IAAJ,EAA/D;AACA,iBAAK2G,MAAL,CAAYW,WAAZ,GAAyB,WAAzB;AACA,iBAAKX,MAAL,CAAYY,QAAZ,GAAuB,UAAvB;AACA9I,qBAAS+I,IAAT,CAAcC,WAAd,CAA0B,KAAKd,MAA/B;AACA,iBAAKA,MAAL,CAAYpH,gBAAZ,CAA6B,OAA7B,EAAqC,YAAM;AACvC,sBAAKoH,MAAL,CAAYtD,IAAZ;AACA,sBAAKwD,MAAL,CAAYa,OAAZ;AACA,sBAAKX,QAAL,CAAcW,OAAd;AACH,aAJD;AAKAjJ,qBAAS+I,IAAT,CAAcC,WAAd,CAA0B,KAAKd,MAA/B;AACA,mBAAO,KAAKA,MAAZ;AACH;;;oCAEWpD,K,EAAO;AACf,gBAAIC,SAASD,MAAMC,MAAnB;AACA,oBAAO,IAAP;AACI,qBAAKA,OAAOZ,OAAP,CAAe,YAAf,CAAL;AACI,yBAAK+E,MAAL,CAAYpE,KAAZ;AACA;AACJ,qBAAKC,OAAOZ,OAAP,CAAe,aAAf,CAAL;AACI,yBAAKgF,OAAL,CAAarE,KAAb;AACA;AACJ,qBAAKC,OAAOZ,OAAP,CAAe,YAAf,CAAL;AACI,yBAAKU,IAAL;AACA;AATR;AAWH;;;+BAEMC,K,EAAO;AACV,iBAAKoD,MAAL,CAAYtD,IAAZ;AACA,iBAAKwD,MAAL,CAAYZ,KAAZ;AACA,iBAAKc,QAAL,CAAcd,KAAd;AACA1C,kBAAMC,MAAN,CAAatE,SAAb,CAAuB2E,GAAvB,CAA2B,YAA3B;AACAN,kBAAMC,MAAN,CAAatE,SAAb,CAAuBkC,MAAvB,CAA8B,WAA9B;AACH;;;gCAEOmC,K,EAAO;AACX,iBAAKoD,MAAL,CAAYkB,KAAZ;AACA,iBAAKhB,MAAL,CAAYgB,KAAZ;AACA,iBAAKd,QAAL,CAAcc,KAAd;AACAtE,kBAAMC,MAAN,CAAatE,SAAb,CAAuB2E,GAAvB,CAA2B,WAA3B;AACAN,kBAAMC,MAAN,CAAatE,SAAb,CAAuBkC,MAAvB,CAA8B,YAA9B;AACH;;;+BAEkB;AAAA;;AAAA,gBAAd2B,OAAc,uEAAJ,EAAI;;AACf,gBAAI,CAACA,OAAL,EAAc;;AAEd,iBAAKqB,GAAL,CAASrC,aAAT,CAAuB,YAAvB,EAAqC+F,SAArC,GAAiD/E,QAAQgF,QAAzD;AACA,iBAAK3D,GAAL,CAASrC,aAAT,CAAuB,cAAvB,EAAuC+F,SAAvC,GAAmD/E,QAAQiF,MAA3D;AACA,iBAAKjB,QAAL,CAAckB,KAAd,CAAoBlF,QAAQmF,QAA5B;;AAEA,gBAAIC,MAAM,2BAAcpF,QAAQqF,QAAtB,CAAV;AACA,iBAAKhE,GAAL,CAASrC,aAAT,CAAuB,cAAvB,EAAuCd,GAAvC,GAA6CkH,GAA7C;AACA,iBAAK/D,GAAL,CAASrC,aAAT,CAAuB,oBAAvB,EAA6CkC,KAA7C,CAAmDoE,eAAnD,YAA4EF,GAA5E;;AAEA,gBAAGpF,QAAQtB,MAAX,EAAmB;AACf,oBAAG,KAAKA,MAAL,KAAgBsB,QAAQtB,MAA3B,EAAkC;AAC9B,yBAAK2C,GAAL,CAASrC,aAAT,CAAuB,cAAvB,EAAuCuG,SAAvC,GAAmD,uBAAnD;AACH;AACD,qBAAK7G,MAAL,GAAcsB,QAAQtB,MAAtB;AACA,qBAAKkF,MAAL,CAAY1F,GAAZ,GAAkB,qBAAQ,KAAKQ,MAAb,CAAlB;AACA,qBAAKwF,QAAL,GAAgB,IAAhB;AACA5C,sBAAM,uBAAU,KAAK5C,MAAf,CAAN,EACK6C,IADL,CACU;AAAA,2BAAOrB,IAAIsB,IAAJ,EAAP;AAAA,iBADV,EAEKD,IAFL,CAEU;AAAA,2BAAQC,KAAKgE,KAAb;AAAA,iBAFV,EAGKjE,IAHL,CAGU;AAAA,2BAAQ,OAAKuC,MAAL,CAAYoB,KAAZ,CAAkBO,IAAlB,CAAR;AAAA,iBAHV,EAIKC,KAJL,CAIW,YAAM,CAAE,CAJnB,EAKKnE,IALL,CAKU;AAAA,2BAAM,OAAK2C,QAAL,GAAgB,KAAtB;AAAA,iBALV;AAMH;AACD,iBAAK1E,IAAL;AACH;;;+BAEM;AACH,iBAAK6B,GAAL,CAASlF,SAAT,CAAmB2E,GAAnB,CAAuB,MAAvB;AACH;;;+BAEM;AACH,iBAAKO,GAAL,CAASlF,SAAT,CAAmBkC,MAAnB,CAA0B,MAA1B;AACH;;;;;;;;;;;;;;;;;;;;;IChGQ4F,W,WAAAA,W;AACT,yBAAY7C,EAAZ,EAAgB+D,QAAhB,EAA0BjC,KAA1B,EAAiC;AAAA;;AAC7B,aAAK7B,GAAL,GAAWD,EAAX;AACA,aAAKuE,OAAL,GAAe,CAAf;AACA,aAAKR,QAAL,GAAgBA,YAAY,CAA5B;AACA,aAAKnB,QAAL,GAAgB,CAAhB;AACA,aAAKvC,MAAL;AACA,aAAKmE,SAAL,GAAiB,KAAKvE,GAAL,CAASrC,aAAT,CAAuB,wBAAvB,CAAjB;AACA,aAAK6G,QAAL,GAAgB,KAAKxE,GAAL,CAASrC,aAAT,CAAuB,mBAAvB,CAAhB;AACA,aAAK8G,SAAL,GAAiB,KAAKzE,GAAL,CAASrC,aAAT,CAAuB,oBAAvB,CAAjB;AACA,aAAK6G,QAAL,CAAcd,SAAd,GAA0B,KAAKgB,UAAL,CAAgB,KAAKJ,OAArB,CAA1B;AACA,aAAKG,SAAL,CAAef,SAAf,GAA2B,KAAKgB,UAAL,CAAgB,KAAKZ,QAArB,CAA3B;AACA,YAAGjC,KAAH,EAAU,KAAKA,KAAL;AACb;;;;gCAEO;AACJ8C,0BAAc,KAAKC,UAAnB;AACA,iBAAKA,UAAL,GAAkB1C,YAAY,KAAK2C,MAAL,CAAYzC,IAAZ,CAAiB,IAAjB,CAAZ,EAAoC,EAApC,CAAlB;AACH;;;gCAEO;AACJuC,0BAAc,KAAKC,UAAnB;AACH;;;iCAEQ;AACL,iBAAKN,OAAL,IAAgB,IAAhB;AACA,iBAAK3B,QAAL,GAAgB,KAAK2B,OAAL,GAAe,KAAKR,QAApC;AACA,iBAAKS,SAAL,CAAe1E,KAAf,CAAqBwC,SAArB,mBAA8C,KAAKM,QAAL,GAAgB,GAAhB,GAAsB,GAApE;AACA,iBAAK6B,QAAL,CAAcd,SAAd,GAA0B,KAAKgB,UAAL,CAAgB,KAAKJ,OAArB,CAA1B;AACH;;;8BAEKR,Q,EAAU;AACZ,iBAAKL,KAAL;AACA,iBAAKa,OAAL,GAAe,CAAf;AACA,iBAAK3B,QAAL,GAAgB,CAAhB;AACA,gBAAGmB,QAAH,EAAa;AACT,qBAAKA,QAAL,GAAgB,CAACA,QAAjB;AACA,qBAAKW,SAAL,CAAef,SAAf,GAA2B,KAAKgB,UAAL,CAAgB,KAAKZ,QAArB,CAA3B;AACH;AACJ;;;iCAEQ;AACL,iBAAK9D,GAAL,CAASoB,SAAT;AAOH;;;mCAEU0D,O,EAAS;AAChB,gBAAGA,OAAH,EAAY;AACR,oBAAIC,MAAMhC,KAAKC,KAAL,CAAW8B,UAAU,EAArB,CAAV;AACA,oBAAIE,MAAMjC,KAAKC,KAAL,CAAW8B,UAAU,EAArB,CAAV;AACA,oBAAGC,MAAM,EAAT,EAAaA,MAAM,MAAMA,GAAZ;AACb,oBAAGC,MAAM,EAAT,EAAaA,MAAM,MAAMA,GAAZ;AACb,uBAAUD,GAAV,SAAiBC,GAAjB;AACH,aAND,MAMM;AACF;AACH;AACJ;;;;;;;;;;;;;;;;;;;;;IC7DQtC,Y,WAAAA,Y;AACT,0BAAY3C,EAAZ,EAAekF,KAAf,EAAsB;AAAA;;AAClB,aAAKjF,GAAL,GAAWD,EAAX;AACA,aAAKC,GAAL,CAASoB,SAAT,GAAqB,yCAArB;AACA,aAAK8D,MAAL,GAAc,KAAKlF,GAAL,CAASrC,aAAT,CAAuB,sBAAvB,CAAd;AACA,aAAK4E,MAAL,GAAc0C,KAAd;AACA,aAAKrD,KAAL,GAAa,CAAb;AACA,aAAKwC,IAAL,GAAY,EAAZ;AACA,aAAK3B,MAAL,GAAc,EAAd;AACA,aAAK6B,OAAL,GAAe,CAAf;AACA,aAAKT,KAAL,CAAW,KAAKO,IAAhB;AACH;;;;iCAEQ;AACL,gBAAIe,OAAO,KAAK1C,MAAL,CAAY3B,GAAZ,CAAgB;AAAA,0EACWsE,KAAKjL,KAAL,CAAW,EAAX,CADX;AAAA,aAAhB,EAERoH,IAFQ,CAEH,EAFG,CAAX;AAGA,iBAAK2D,MAAL,CAAY9D,SAAZ,GAAwB+D,IAAxB;AACH;;;gCAEO;AACJ,iBAAK1B,KAAL;AACA,iBAAKmB,UAAL,GAAkB1C,YAAY,KAAK2C,MAAL,CAAYzC,IAAZ,CAAiB,IAAjB,CAAZ,EAAoC,IAApC,CAAlB;AACH;;;gCAEO;AACJuC,0BAAc,KAAKC,UAAnB;AACH;;;iCAEQ;AACL,iBAAKN,OAAL,GAAevB,KAAKsC,KAAL,CAAW,KAAK9C,MAAL,GAAc,KAAKA,MAAL,CAAY+C,WAA1B,GAAwC,KAAKhB,OAAL,GAAe,CAAlE,CAAf;AACA,gBAAI,KAAK1C,KAAL,KAAe,KAAKa,MAAL,CAAYhI,MAAZ,GAAqB,CAAxC,EAA2C;AAC3C,iBAAK,IAAI8K,IAAI,KAAK3D,KAAL,GAAa,CAA1B,EAA4B2D,IAAI,KAAK9C,MAAL,CAAYhI,MAA5C,EAAoD8K,GAApD,EAAyD;AACrD,oBAAIT,UAAU,KAAKU,UAAL,CAAgB,KAAK/C,MAAL,CAAY8C,CAAZ,CAAhB,CAAd;AACA,oBACI,KAAKjB,OAAL,KAAiBQ,OAAjB,KACC,CAAC,KAAKrC,MAAL,CAAY8C,IAAI,CAAhB,CAAD,IAAuB,KAAKjB,OAAL,GAAe,KAAKkB,UAAL,CAAgB,KAAK/C,MAAL,CAAY8C,IAAI,CAAhB,CAAhB,CADvC,CADJ,EAGE;AACE,yBAAKL,MAAL,CAAY3F,QAAZ,CAAqB,KAAKqC,KAA1B,EAAiC9G,SAAjC,CAA2CkC,MAA3C,CAAkD,QAAlD;AACA,yBAAKkI,MAAL,CAAY3F,QAAZ,CAAqBgG,CAArB,EAAwBzK,SAAxB,CAAkC2E,GAAlC,CAAsC,QAAtC;AACA,yBAAKmC,KAAL,GAAa2D,CAAb;AACA;AACH;AACJ;;AAED,gBAAG,KAAK3D,KAAL,GAAa,CAAhB,EAAkB;;AAEd,oBAAI6D,IAAI,EAAE,KAAK7D,KAAL,GAAa,CAAf,IAAoB,KAAK8D,WAAjC;AACA,qBAAKR,MAAL,CAAYrF,KAAZ,CAAkBwC,SAAlB,mBAA4CoD,CAA5C;AACH;AACJ;;;8BAEKrB,I,EAAM;AACR,iBAAKX,KAAL;AACA,iBAAK7B,KAAL,GAAa,CAAb;AACA,iBAAK0C,OAAL,GAAe,CAAf;AACA,iBAAKY,MAAL,CAAYrF,KAAZ,CAAkBwC,SAAlB;AACA,gBAAIsD,UAAU,KAAKT,MAAL,CAAYvH,aAAZ,CAA0B,SAA1B,CAAd;AACA,gBAAGgI,OAAH,EAAW;AACPA,wBAAQ7K,SAAR,CAAkBkC,MAAlB,CAAyB,QAAzB;AACH;;AAED,gBAAGoH,IAAH,EAAS;AACL,qBAAKA,IAAL,GAAY,KAAKwB,UAAL,CAAgBxB,IAAhB,KAAyB,EAArC;AACA,qBAAK3B,MAAL,GAAc,KAAK2B,IAAL,CAAU1F,KAAV,CAAgB,+BAAhB,KAAoD,EAAlE;AACA,oBAAI,KAAK+D,MAAL,CAAYhI,MAAhB,EAAwB;AACpB,yBAAK2F,MAAL;AACH;AACJ;AACD,gBAAI,KAAKqC,MAAL,CAAYhI,MAAhB,EAAwB;AACpB,qBAAKyK,MAAL,CAAY3F,QAAZ,CAAqB,KAAKqC,KAA1B,EAAiC9G,SAAjC,CAA2C2E,GAA3C,CAA+C,QAA/C;AACH;AACJ;;;mCAEU2F,I,EAAM;AACb,mBAAO,CAACA,KAAKlE,OAAL,CAAa,sBAAb,EAAqC,UAACxC,KAAD,EAAQmH,EAAR,EAAYC,EAAZ;AAAA,uBAAmB,KAAM,CAACD,EAAP,GAAc,CAACC,EAAlC;AAAA,aAArC,CAAR;AACH;;;mCAEU1B,I,EAAM;AACb,gBAAI2B,MAAM1L,SAASyI,aAAT,CAAuB,KAAvB,CAAV;AACAiD,gBAAI3E,SAAJ,GAAgBgD,IAAhB;AACA,mBAAO2B,IAAIrC,SAAX;AACH;;;;;;AAGLhB,aAAasD,SAAb,CAAuBN,WAAvB,GAAqC,EAArC,C;;;;;;;;;;;;;;;;ACrFA;;AACA;;;;IAEa5H,O,WAAAA,O;AACT,qBAAYiC,EAAZ,EAAgB;AAAA;;AACZ,aAAKC,GAAL,GAAWD,EAAX;AACH;;;;iCAEQ;AAAA;;AACLE,kBAAMpG,sBAAN,EACKqG,IADL,CACU;AAAA,uBAAOrB,IAAIsB,IAAJ,EAAP;AAAA,aADV,EAEKD,IAFL,CAEU;AAAA,uBAAQ,MAAKE,MAAL,CAAYD,KAAKG,IAAL,CAAUzC,OAAtB,CAAR;AAAA,aAFV;AAGA,mBAAO,IAAP;AACH;;;+BAEM4D,I,EAAM;AAAA;;AACT,iBAAKzB,GAAL,CAASrC,aAAT,CAAuB,UAAvB,EAAmCyD,SAAnC,GAA+CK,KAAKX,GAAL,CAAS;AAAA,mOAKNmF,KAAKhF,MALC,0KASNgF,KAAKC,QATC,+FAWlC,OAAKC,QAAL,CAAcF,KAAKtF,QAAnB,CAXkC;AAAA,aAAT,EAgB7CY,IAhB6C,CAgBxC,EAhBwC,CAA/C;;AAkBA,oCAAS,KAAKvB,GAAL,CAAS1F,gBAAT,CAA0B,WAA1B,CAAT;AACH;;;iCAEQ8L,K,EAAO;AACZ,mBAAOA,MAAMtF,GAAN,CAAU,UAACuF,IAAD,EAAOd,CAAP;AAAA,qGAGWA,IAAI,CAHf,mDAIac,KAAK1C,QAJlB,iBAIsC0C,KAAKC,UAJ3C;AAAA,aAAV,EAOL/E,IAPK,CAOA,EAPA,CAAP;AAQH;;;;;;;;;;;;;;;;;;;;AC9CL;;;;;;IAEavD,M,WAAAA,M;AACT,oBAAY+B,EAAZ,EAAgB;AAAA;;AACZ,aAAKC,GAAL,GAAWD,EAAX;AACA,aAAKwG,MAAL,GAAc,KAAKvG,GAAL,CAASrC,aAAT,CAAuB,SAAvB,CAAd;AACA,aAAK4I,MAAL,CAAYpL,gBAAZ,CAA6B,OAA7B,EAAsC,KAAKqL,OAAL,CAAapE,IAAb,CAAkB,IAAlB,CAAtC;AACA,aAAKqE,MAAL,GAAc,KAAKzG,GAAL,CAASrC,aAAT,CAAuB,YAAvB,CAAd;AACA,aAAK+I,QAAL,GAAgB,KAAK1G,GAAL,CAASrC,aAAT,CAAuB,iBAAvB,CAAhB;AACA,aAAKJ,OAAL,GAAe,EAAf;AACA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAK4I,KAAL,GAAa,EAAb;AACA,aAAKO,MAAL,GAAc,KAAd;AACA,aAAKC,OAAL,GAAe,EAAf;AACA,aAAK/D,QAAL,GAAgB,KAAhB;AACA,aAAKtI,QAAL,GAAgB,KAAKsM,QAAL,CAAczE,IAAd,CAAmB,IAAnB,CAAhB;AACA1H,eAAOS,gBAAP,CAAwB,QAAxB,EAAiC,KAAKZ,QAAtC;AACH;;;;iCAEQ4E,K,EAAO;AACZ,gBAAG,KAAKwH,MAAR,EAAgB;AAChB,gBAAGtM,SAASkC,eAAT,CAAyBG,YAAzB,GAAwCoK,WAAxC,GAAsD,EAAtD,IAA4DzM,SAAS+I,IAAT,CAAc2D,YAA7E,EAA2F;AACvF,qBAAKhJ,MAAL,CAAY,KAAKR,OAAjB,EAAyB,KAAKC,IAAL,GAAY,CAArC;AACH;AACJ;;;gCAEO2B,K,EAAO;AACX,gBAAI5B,UAAU4B,MAAMC,MAAN,CAAa4H,KAAb,CAAmBC,IAAnB,EAAd;AACA,gBAAG,CAAC1J,OAAJ,EAAa;AACT,qBAAKsG,KAAL;AACH;AACD,gBAAI1E,MAAM+H,OAAN,KAAkB,EAAtB,EAA0B;AAC1B,iBAAKnJ,MAAL,CAAYR,OAAZ;AACH;;;gCAEO;AACJ,iBAAKC,IAAL,GAAY,CAAZ;AACA,iBAAKD,OAAL,GAAe,EAAf;AACA,iBAAK6I,KAAL,GAAa,EAAb;AACA,iBAAKK,MAAL,CAAYrF,SAAZ,GAAwB,EAAxB;AACH;;;+BAEM7D,O,EAAQC,I,EAAM;AAAA;;AACjB,gBAAG,KAAKqF,QAAR,EAAkB;AAClB,iBAAKsE,WAAL;AACA,iBAAK5J,OAAL,GAAeA,OAAf;AACA,iBAAKsF,QAAL,GAAgB,IAAhB;AACA5C,kBAAM,uBAAU,KAAK1C,OAAf,EAAwBC,QAAQ,KAAKA,IAArC,CAAN,EACC0C,IADD,CACM;AAAA,uBAAOrB,IAAIsB,IAAJ,EAAP;AAAA,aADN,EAECD,IAFD,CAEM,gBAAQ;AAAA;;AACV,sBAAK1C,IAAL,GAAY2C,KAAKG,IAAL,CAAU+F,IAAV,CAAee,OAA3B;AACA,sBAAKT,MAAL,GAAexG,KAAKkH,OAAL,KAAiB,YAAhC;AACA,gCAAKjB,KAAL,EAAWkB,IAAX,kCAAmBnH,KAAKG,IAAL,CAAU+F,IAAV,CAAe5E,IAAlC;AACA,uBAAOtB,KAAKG,IAAL,CAAU+F,IAAV,CAAe5E,IAAtB;AACH,aAPD,EAQCvB,IARD,CAQM,iBAAS;AACX,sBAAKqH,MAAL,CAAYnB,KAAZ;AACH,aAVD,EAWClG,IAXD,CAWM,YAAM;AACR,sBAAK2C,QAAL,GAAgB,KAAhB;AACA,sBAAK6D,QAAL,CAAc5L,SAAd,CAAwBkC,MAAxB,CAA+B,MAA/B;AACH,aAdD,EAeCqH,KAfD,CAeO;AAAA,uBAAM,MAAKxB,QAAL,GAAgB,KAAtB;AAAA,aAfP;AAgBH;;;+BAEMuD,K,EAAO;AACV,gBAAIjB,OAAOiB,MAAMtF,GAAN,CAAU,gBAAQ;AACzB,oBAAI8C,SAASyC,KAAKmB,MAAL,CAAY1G,GAAZ,CAAgB;AAAA,2BAAK2G,EAAEC,IAAP;AAAA,iBAAhB,EAA6BnG,IAA7B,CAAkC,GAAlC,CAAb;AACA,iGAEsBqC,MAFtB,gBAEuCyC,KAAKhJ,MAF5C,kBAE+DgJ,KAAK1C,QAFpE,kBAEyF0C,KAAKrC,QAF9F,kBAEmHqC,KAAK1E,QAFxH,6GAIsC0E,KAAK1C,QAJ3C,kEAKwC0C,KAAKmB,MAAL,CAAY1G,GAAZ,CAAgB;AAAA,2BAAK2G,EAAEC,IAAP;AAAA,iBAAhB,EAA6BnG,IAA7B,CAAkC,GAAlC,CALxC;AAMM,aARC,EAQCA,IARD,CAQM,EARN,CAAX;AASA,iBAAKkF,MAAL,CAAYkB,kBAAZ,CAA+B,WAA/B,EAA4CxC,IAA5C;AACH;;;sCAEa;AACV,iBAAKuB,QAAL,CAAc5L,SAAd,CAAwB2E,GAAxB,CAA4B,MAA5B;AACH","file":"dist/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a291b8a1acbea5be1998","export const RECOMMEND_URL = 'https://qq-music-api.now.sh'\r\nexport const TOPLIST_URL = 'https://qq-music-api.now.sh/top'\r\nexport const SEARCH_URL = 'https://qq-music-api.now.sh/search'\r\nexport const LYRICS_URL = 'https://qq-music-api.now.sh/lyrics'\n\n\n// WEBPACK FOOTER //\n// ./scripts/constants.js","export function lazyload(images) {\r\n    let imgs = [].slice.call(images || document.querySelectorAll('.lazyload'));//把类数组对象转为真正的数组\r\n    let onscroll = throttle(function () {\r\n        if (imgs.length === 0) {\r\n            return window.removeEventListener('scroll', onscroll)\r\n        }\r\n        imgs = imgs.filter(img => img.classList.contains('lazyload'))\r\n        imgs.forEach(img => {\r\n            if (inViewport(img)) {\r\n                loadImage(img)\r\n            }\r\n        });\r\n    },500);\r\n\r\n    window.addEventListener('scroll', onscroll)\r\n    window.dispatchEvent(new Event('scroll'));\r\n\r\n    function throttle(func,wait) {\r\n        let pre , timer\r\n        return function fn() {\r\n            let cur = Date.now();\r\n            let diff = cur - pre;\r\n            if(!pre || diff >= wait) {\r\n                func();\r\n                pre = cur;\r\n            }else if(diff < wait){\r\n                clearTimeout(timer);\r\n                timer = setTimeout(() => {\r\n                    fn();\r\n                }, wait - diff);\r\n            }    \r\n        }\r\n    }\r\n\r\n    function inViewport(img) {\r\n        let { top, left, right, bottom } = img.getBoundingClientRect();\r\n        let vpWidth = document.documentElement.clientWidth;\r\n        let vpHeight = document.documentElement.clientHeight;\r\n        return (\r\n            (top > 0 && top < vpHeight || bottom > 0 && bottom < vpHeight) &&\r\n            (left > 0 && left < vpWidth || right > 0 && right < vpWidth)\r\n        )\r\n    }\r\n\r\n    function loadImage(img) {\r\n        let image = new Image();\r\n        image.src = img.dataset.src;\r\n        image.onload = function () {\r\n            img.src = image.src\r\n            img.classList.remove('lazyload')\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/lazyload.js","import {LYRICS_URL, SEARCH_URL} from './constants.js'\r\n\r\nexport function lyricsUrl(songid) {\r\n    return `${LYRICS_URL}?id=${songid}`\r\n}\r\n\r\nexport function songUrl(id) {\r\n    return `http://ws.stream.qqmusic.qq.com/${id}.m4a?fromtag=46`\r\n}\r\n\r\nexport function albumCoverUrl(id) {\r\n    return `https://y.gtimg.cn/music/photo_new/T002R150x150M000${id}.jpg`\r\n}\r\n\r\nexport function searchUrl(keyword, page = 1) {\r\n    return `${SEARCH_URL}?keyword=${keyword}&page=${page}`\r\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/helper.js","import './tab.js'\r\nimport { Recommend } from './recommend.js'\r\nimport { MusicPlayer } from './music_player.js'\r\nimport { TopList } from './topList.js'\r\nimport { Search } from './search.js'\r\n\r\n    let recommend = new Recommend(document.querySelector('#rec-view')).launch()\r\n    let topList = new TopList(document.querySelector('#rank-view')).launch()\r\n    let search = new Search(document.querySelector('#search-view'));\r\n    let musicPlayer = new MusicPlayer(document.querySelector('#player'));\r\n    document.querySelector('.btn-download').addEventListener('click', () => {\r\n        musicPlayer.show()\r\n    })\r\n\r\n    onHashChange()\r\n    addEventListener('hashchange', onHashChange)\r\n\r\n    function onHashChange() {\r\n        let hash = location.hash\r\n        if (/^#player\\?.+/.test(hash)) {\r\n            let matches = hash.slice(hash.indexOf('?') + 1).match(/(\\w+)=([^&]+)/g)\r\n            let options = matches && matches.reduce((res, cur) => {\r\n                let arr = cur.split('=')\r\n                res[arr[0]] = decodeURIComponent(arr[1])\r\n                return res\r\n            }, {})\r\n\r\n            musicPlayer.play(options)\r\n        } else {\r\n            musicPlayer.hide()\r\n        }\r\n    }\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/app.js","document.addEventListener('click',function(event){\r\n    let target = event.target;\r\n\r\n    if(target.dataset.role !== 'tab') {\r\n        return;\r\n    }\r\n    \r\n    [].forEach.call(target.parentElement.children, tab => {\r\n        tab.classList.remove('active');\r\n    })\r\n    \r\n    target.classList.add('active');\r\n\r\n    let content = document.querySelector(target.dataset.view)\r\n    \r\n    if(content) { \r\n        [].forEach.call(content.parentElement.children, child => {\r\n            child.style.display = 'none';\r\n        })\r\n        content.style.display = 'block';\r\n    }\r\n    window.dispatchEvent(new Event('scroll'))\r\n},false)\n\n\n// WEBPACK FOOTER //\n// ./scripts/tab.js","import { Slider } from './slider.js'\r\nimport { lazyload } from './lazyload.js'\r\nimport { RECOMMEND_URL } from './constants.js'\r\n\r\nexport class Recommend {\r\n    constructor(el) {\r\n        this.$el = el\r\n    }\r\n\r\n    launch() {\r\n        fetch(RECOMMEND_URL)\r\n        .then(res => res.json())\r\n        .then(json => this.render(json))\r\n        return this;\r\n    }\r\n\r\n    render(json) {\r\n        this.renderSlider(json.data.slider)\r\n        this.renderRadios(json.data.radioList)\r\n        this.renderPlaylists(json.data.songList)\r\n        lazyload()\r\n    }\r\n\r\n    renderSlider(slider) {\r\n        new Slider({\r\n            el: document.querySelector(\"#slider\"),\r\n            sliders: slider.map(slider => ({ link: slider.linkUrl, image: slider.picUrl.replace('http://','https://') }))\r\n        })\r\n    }\r\n\r\n    renderRadios(radios) {\r\n        document.querySelector('.radios .list').innerHTML = radios.map(radio =>\r\n            `<div class=\"list-item\">\r\n                <div class=\"list-media\">\r\n                    <img class=\"lazyload\" data-src=\"${radio.picUrl}\">\r\n                    <span class=\"icon icon-play\"></span>\r\n                </div>\r\n                <div class=\"list-title\">${radio.Ftitle}</div>\r\n            </div>`).join('')\r\n    }\r\n\r\n    renderPlaylists(playlists) {\r\n        document.querySelector('.playlists .list').innerHTML = playlists.map(list =>\r\n            `<div class=\"list-item\">\r\n                <div class=\"list-media\">\r\n                    <img class=\"lazyload\" data-src=\"${list.picUrl}\">\r\n                    <span class=\"icon icon-play\"></span>\r\n                </div>\r\n                <div class=\"list-title\">${list.songListDesc}</div>\r\n            </div>`).join('')\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/recommend.js","export class Slider {\r\n    constructor (options = {}) {\r\n        this.$el = options.el;\r\n        this.sliders = options.sliders;\r\n        this.interval = options.interval || 3000\r\n        this.index = 0;\r\n        this.render();\r\n        this.start();\r\n    }\r\n\r\n    render() {\r\n        this.$el.innerHTML = `<div class=\"qq-slider-wrap\"></div>`;\r\n        this.$wrap = this.$el.firstElementChild;\r\n        this.$wrap.style.width = `${this.sliders.length * 100}%`;\r\n        this.$wrap.innerHTML = this.sliders.map(slide => \r\n            `<div class=\"qq-slider-item\">\r\n                <a href=\"${slide.link}\">\r\n                    <img src=\"${slide.image}\">\r\n                </a>\r\n            </div>    \r\n            `\r\n        ).join('')\r\n    }\r\n\r\n    start() {\r\n        setInterval(this.next.bind(this),this.interval)\r\n    }\r\n\r\n    next() {\r\n        this.index += 1\r\n        if (this.index === this.sliders.length) {\r\n            this.$wrap.style.transform = `translateX(0)`\r\n            this.index = 0;\r\n            return;\r\n        }\r\n        let x = `-${this.index * 100 / this.sliders.length}%`\r\n        this.$wrap.style.transform = `translateX(${x})`\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/slider.js","import { ProgressBar } from './progress_bar.js'\r\nimport { LyricsPlayer } from './lyrics_player.js'\r\nimport { songUrl, lyricsUrl, albumCoverUrl } from './helper.js'\r\n\r\nexport class MusicPlayer {\r\n    constructor(el) {\r\n        this.$el = el;\r\n        this.$el.addEventListener('click', this)\r\n        this.$audio = this.createAudio()\r\n        this.lyrics = new LyricsPlayer(this.$el.querySelector('.player-lyrics'),this.$audio)\r\n        this.progress = new ProgressBar(this.$el.querySelector('.progress'))\r\n        this.fetching = false\r\n        this.hide();\r\n    }\r\n\r\n    createAudio() {\r\n        this.$audio = document.createElement('audio')\r\n        this.$audio.style.display = 'none'\r\n        this.$audio.id = `player-${Math.floor(Math.random() * 100)}-${+new Date()}`\r\n        this.$audio.crossOrigin =\"anonymous\"\r\n        this.$audio.controls = \"controls\" \r\n        document.body.appendChild(this.$audio)\r\n        this.$audio.addEventListener('ended',() => {\r\n            this.$audio.play()\r\n            this.lyrics.restart()\r\n            this.progress.restart()\r\n        })\r\n        document.body.appendChild(this.$audio)\r\n        return this.$audio\r\n    }\r\n\r\n    handleEvent(event) {\r\n        let target = event.target\r\n        switch(true) {\r\n            case target.matches('.icon-play'):\r\n                this.onPlay(event)\r\n                break;\r\n            case target.matches('.icon-pause'):\r\n                this.onPause(event)\r\n                break;\r\n            case target.matches('.icon-list'):\r\n                this.hide()\r\n                break    \r\n        }\r\n    }\r\n\r\n    onPlay(event) {\r\n        this.$audio.play()\r\n        this.lyrics.start()\r\n        this.progress.start()\r\n        event.target.classList.add('icon-pause')\r\n        event.target.classList.remove('icon-play')\r\n    } \r\n\r\n    onPause(event) {\r\n        this.$audio.pause()\r\n        this.lyrics.pause()\r\n        this.progress.pause()\r\n        event.target.classList.add('icon-play')\r\n        event.target.classList.remove('icon-pause')\r\n    }\r\n\r\n    play(options = {}) {\r\n        if (!options) return;\r\n\r\n        this.$el.querySelector('.song-name').innerText = options.songname\r\n        this.$el.querySelector('.song-artist').innerText = options.artist\r\n        this.progress.reset(options.duration)\r\n\r\n        let url = albumCoverUrl(options.albummid)\r\n        this.$el.querySelector('.album-cover').src = url\r\n        this.$el.querySelector('.player-background').style.backgroundImage = `url(${url})`\r\n    \r\n        if(options.songid) {\r\n            if(this.songid !== options.songid){\r\n                this.$el.querySelector('.icon-action').className = 'icon-action icon-play'\r\n            } \r\n            this.songid = options.songid\r\n            this.$audio.src = songUrl(this.songid)\r\n            this.fetching = true\r\n            fetch(lyricsUrl(this.songid))\r\n                .then(res => res.json())\r\n                .then(json => json.lyric)\r\n                .then(text => this.lyrics.reset(text))\r\n                .catch(() => {})\r\n                .then(() => this.fetching = false)\r\n        }\r\n        this.show()\r\n    }\r\n\r\n    show() {\r\n        this.$el.classList.add(\"show\")\r\n    }\r\n\r\n    hide() {\r\n        this.$el.classList.remove(\"show\")\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/music_player.js","export class ProgressBar {\r\n    constructor(el, duration, start) {   \r\n        this.$el = el;\r\n        this.elapsed = 0\r\n        this.duration = duration || 0\r\n        this.progress = 0\r\n        this.render()\r\n        this.$progress = this.$el.querySelector('.progress-bar-progress')\r\n        this.$elapsed = this.$el.querySelector('.progress-elapsed')\r\n        this.$duration = this.$el.querySelector('.progress-duration')\r\n        this.$elapsed.innerText = this.formatTime(this.elapsed)\r\n        this.$duration.innerText = this.formatTime(this.duration)\r\n        if(start) this.start()\r\n    }\r\n\r\n    start() {\r\n        clearInterval(this.intervalId)\r\n        this.intervalId = setInterval(this.update.bind(this), 50)\r\n    }\r\n\r\n    pause() {\r\n        clearInterval(this.intervalId)\r\n    }\r\n\r\n    update() {\r\n        this.elapsed += 0.05\r\n        this.progress = this.elapsed / this.duration\r\n        this.$progress.style.transform = `translate(${this.progress * 100 - 100}%)`\r\n        this.$elapsed.innerText = this.formatTime(this.elapsed)\r\n    }\r\n\r\n    reset(duration) {\r\n        this.pause()\r\n        this.elapsed = 0\r\n        this.progress = 0\r\n        if(duration) {\r\n            this.duration = +duration\r\n            this.$duration.innerText = this.formatTime(this.duration)\r\n        }\r\n    } \r\n\r\n    render() {\r\n        this.$el.innerHTML = `\r\n        <div class=\"progress-time progress-elapsed\">00:00</div>\r\n        <div class=\"progress-bar\">\r\n            <div class=\"progress-bar-progress\"></div>\r\n        </div>\r\n        <div class=\"progress-time progress-duration\"></div>\r\n        `\r\n    }\r\n\r\n    formatTime(seconds) {\r\n        if(seconds) {\r\n            let min = Math.floor(seconds / 60)\r\n            let sec = Math.floor(seconds % 60)\r\n            if(min < 10) min = \"0\" + min;\r\n            if(sec < 10) sec = \"0\" + sec;\r\n            return `${min}:${sec}`\r\n        }else {\r\n            return `00:00`\r\n        }\r\n    }\r\n   \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/progress_bar.js","export class LyricsPlayer {\r\n    constructor(el,audio) {\r\n        this.$el = el;\r\n        this.$el.innerHTML = '<div class=\"player-lyrics-lines\"></div>'\r\n        this.$lines = this.$el.querySelector('.player-lyrics-lines')\r\n        this.$audio = audio\r\n        this.index = 0\r\n        this.text = ''\r\n        this.lyrics = []\r\n        this.elapsed = 0;\r\n        this.reset(this.text)\r\n    }\r\n    \r\n    render() {\r\n        let html = this.lyrics.map(line => `\r\n            <div class=\"player-lyrics-line\">${line.slice(10)}</div>\r\n        `).join('');\r\n        this.$lines.innerHTML = html\r\n    }\r\n\r\n    start() {\r\n        this.pause()\r\n        this.intervalId = setInterval(this.update.bind(this), 1000)\r\n    }\r\n\r\n    pause() {\r\n        clearInterval(this.intervalId)\r\n    }\r\n\r\n    update() {\r\n        this.elapsed = Math.round(this.$audio ? this.$audio.currentTime : this.elapsed + 1)\r\n        if (this.index === this.lyrics.length - 1) return;\r\n        for (let i = this.index + 1;i < this.lyrics.length; i++) {\r\n            let seconds = this.getSeconds(this.lyrics[i])\r\n            if(\r\n                this.elapsed === seconds && \r\n                (!this.lyrics[i + 1] || this.elapsed < this.getSeconds(this.lyrics[i + 1]))\r\n            ) {\r\n                this.$lines.children[this.index].classList.remove('active')\r\n                this.$lines.children[i].classList.add('active')\r\n                this.index = i\r\n                break;\r\n            }\r\n        }\r\n        \r\n        if(this.index > 2){\r\n            \r\n            let y = -(this.index - 2) * this.LINE_HEIGHT\r\n            this.$lines.style.transform = `translateY(${y}px)`\r\n        }\r\n    }\r\n\r\n    reset(text) {\r\n        this.pause()\r\n        this.index = 0\r\n        this.elapsed = 0;\r\n        this.$lines.style.transform = `translatrY(0)`\r\n        let $active = this.$lines.querySelector('.active')\r\n        if($active){\r\n            $active.classList.remove('active')\r\n        }\r\n\r\n        if(text) {\r\n            this.text = this.formatText(text) || ''\r\n            this.lyrics = this.text.match(/^\\[\\d{2}:\\d{2}.\\d{2}\\](.+)$/gm) || []\r\n            if (this.lyrics.length) {\r\n                this.render()\r\n            }\r\n        }\r\n        if (this.lyrics.length) {\r\n            this.$lines.children[this.index].classList.add('active')\r\n        }\r\n    }\r\n\r\n    getSeconds(line) {\r\n        return +line.replace(/^\\[(\\d{2}):(\\d{2}).*/, (match, p1, p2) => 60 * (+p1) + (+p2))\r\n    }\r\n\r\n    formatText(text) {\r\n        let div = document.createElement('div')\r\n        div.innerHTML = text;\r\n        return div.innerText\r\n    }\r\n}\r\n\r\nLyricsPlayer.prototype.LINE_HEIGHT = 42\n\n\n// WEBPACK FOOTER //\n// ./scripts/lyrics_player.js","import { lazyload } from './lazyload.js'\r\nimport { TOPLIST_URL } from './constants.js'\r\n\r\nexport class TopList {\r\n    constructor(el) {\r\n        this.$el = el\r\n    }\r\n\r\n    launch() {\r\n        fetch(TOPLIST_URL)\r\n            .then(res => res.json())\r\n            .then(json => this.render(json.data.topList))\r\n        return this\r\n    }\r\n\r\n    render(list) {\r\n        this.$el.querySelector('.toplist').innerHTML = list.map(item => \r\n            `\r\n            <li class=\"top-item\" data-id=\"4\" data-type=\"0\">\r\n                <div class=\"top-item-media\">\r\n                    <a href=\"#\">\r\n                        <img class=\"lazyload\" data-src=\"${item.picUrl}\" src=\"\">\r\n                    </a>\r\n                </div>\r\n                <div class=\"top-item-info\">\r\n                    <h3 class=\"top-item-title ellipsis\">${item.topTitle}</h3>\r\n                        <ul class=\"top-item-list\">\r\n                            ${this.songlist(item.songList)}\r\n                        </ul>\r\n                </div>\r\n            </li>\r\n            `\r\n        ).join('');\r\n\r\n        lazyload(this.$el.querySelectorAll('.lazyload'))\r\n    }\r\n\r\n    songlist(songs) {\r\n        return songs.map((song, i) => \r\n        `\r\n        <li class=\"top-item-song\">\r\n            <i class=\"song-index\">${i + 1}</i>\r\n            <span class=\"song-name\">${song.songname}</span>- ${song.singername}\r\n        </li>\r\n        `\r\n        ).join('')\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/topList.js","import { searchUrl } from \"./helper.js\";\r\n\r\nexport class Search {\r\n    constructor(el) {\r\n        this.$el = el;\r\n        this.$input = this.$el.querySelector('#search')\r\n        this.$input.addEventListener('keyup', this.onKeyUp.bind(this))\r\n        this.$songs = this.$el.querySelector('.song-list')\r\n        this.$loading = this.$el.querySelector('.search-loading')\r\n        this.keyword = ''\r\n        this.page = 1\r\n        this.songs = [];\r\n        this.nomore = false;\r\n        this.perpage = 20\r\n        this.fetching = false;\r\n        this.onscroll = this.onScroll.bind(this); \r\n        window.addEventListener('scroll',this.onscroll)\r\n    }\r\n\r\n    onScroll(event) {\r\n        if(this.nomore) return;\r\n        if(document.documentElement.clientHeight + pageYOffset + 50 >= document.body.scrollHeight) {\r\n            this.search(this.keyword,this.page + 1)\r\n        }\r\n    }\r\n\r\n    onKeyUp(event) {\r\n        let keyword = event.target.value.trim()\r\n        if(!keyword) {\r\n            this.reset()\r\n        }\r\n        if (event.keyCode !== 13) return\r\n        this.search(keyword)\r\n    }\r\n\r\n    reset() {\r\n        this.page = 1\r\n        this.keyword = ''\r\n        this.songs = []\r\n        this.$songs.innerHTML = '' \r\n    }\r\n\r\n    search(keyword,page) {\r\n        if(this.fetching) return;\r\n        this.showLoading();\r\n        this.keyword = keyword\r\n        this.fetching = true;\r\n        fetch(searchUrl(this.keyword, page || this.page))\r\n        .then(res => res.json())\r\n        .then(json => {\r\n            this.page = json.data.song.curpage\r\n            this.nomore = (json.message === 'no results')\r\n            this.songs.push(...json.data.song.list);\r\n            return json.data.song.list\r\n        })\r\n        .then(songs => {\r\n            this.append(songs)\r\n        })\r\n        .then(() => {\r\n            this.fetching = false\r\n            this.$loading.classList.remove(\"show\")\r\n        })\r\n        .catch(() => this.fetching = false)\r\n    }\r\n\r\n    append(songs) {\r\n        let html = songs.map(song => {\r\n            let artist = song.singer.map(s => s.name).join(' ')\r\n            return ` \r\n            <a class=\"song-item\"\r\n           href=\"#player?artist=${artist}&songid=${song.songid}&songname=${song.songname}&albummid=${song.albummid}&duration=${song.interval}\">\r\n                <i class=\"icon icon-music\"></i>\r\n                <div class=\"song-name ellipsis\">${song.songname}</div>\r\n                <div class=\"song-artist ellipsis\">${song.singer.map(s => s.name).join(' ')}</div>\r\n            </a>`}).join('')\r\n        this.$songs.insertAdjacentHTML('beforeend', html)\r\n    }\r\n\r\n    showLoading() {\r\n        this.$loading.classList.add(\"show\");\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/search.js"],"sourceRoot":""}